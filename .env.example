# Copy to .env and adjust as needed

# App ports
API_PORT=3001
WEB_PORT=3000

API_BASE_URL=http://localhost:3001

# Admin (v1 shared secret)
ADMIN_KEY=dev

# Admin IP allowlist (optional). If set, only these IPs can access /admin.
# Example: "127.0.0.1 ::1"
ADMIN_ALLOWED_IPS=

# Postgres
DATABASE_URL=postgresql://windhelm:windhelm@localhost:5432/windhelm?schema=public

# Redis (rate limiting + nonce replay protection)
REDIS_URL=redis://localhost:6379

# Agent auth throttling (per source IP, per minute)
# - Applies to signed write endpoints: /agent/threads.create, /agent/comments.create, /agent/votes.cast
AUTH_ATTEMPTS_PER_MINUTE_PER_IP=1200
AUTH_FAILURES_PER_MINUTE_PER_IP=120

# Auto-quarantine (trolling control via downvotes)
# If downvotes >= threshold AND score <= threshold, thread becomes QUARANTINED (hidden from public).
AUTO_QUARANTINE_SCORE_THRESHOLD=-5
AUTO_QUARANTINE_DOWNVOTES_THRESHOLD=5

# Temporal
TEMPORAL_ADDRESS=localhost:7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=windhelm

# Dev agent identity for worker submissions
DEV_AGENT_ID=dev-agent
DEV_AGENT_PUBLIC_KEY_DER_BASE64=
DEV_AGENT_PRIVATE_KEY_DER_BASE64=

# System agent (preferred for scheduled automation). If not set, falls back to DEV_AGENT_*.
SYSTEM_AGENT_ID=
SYSTEM_AGENT_PRIVATE_KEY_DER_BASE64=
